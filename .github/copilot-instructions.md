# 翻譯協作指引（Copilot）

目的：本倉庫所有 `.md` 文件即將翻譯為繁體中文（台灣，zh-TW）。為確保一致性，請嚴格遵循本檔規範。

## 強制要求
- 翻譯任何 `.md` 檔前，先閱讀並遵循根目錄 `ZHTW_DICT.md` 的「術語字典與風格指南」。
- 所有專有名詞與 API 介面/類別/方法/選項名稱一律保留原文，並以反引號標示，例如：`gemini.cli()`。
- 英文程式碼、變數名稱、參數、CLI 指令、環境變數與 JSON/YAML 鍵名一律不翻譯。
- 若字典中已存在對照詞，保持一致；若缺少，請先於 `ZHTW_DICT.md` 追加詞條後再翻譯。
- 不得更動文件中的 Frontmatter、錨點 ID、連結 URL、程式碼區塊語言標註與範例輸出內容。

## VuePress 建置錯誤注意事項
- **角括號轉義**：所有 TypeScript 泛型語法（如 `Promise<string>`）和命令語法範例（如 `<name>`、`<command>`、`<url>`）中的角括號必須使用 HTML 實體轉義：
  - `<` 轉換為 `&lt;`
  - `>` 轉換為 `&gt;`
  - 例如：`Promise<string>` → `Promise&lt;string&gt;`
  - 例如：`gemini add <name>` → `gemini add &lt;name&gt;`
- **常見問題**：VuePress Vue 外掛會將未轉義的角括號解釋為 HTML 標籤，導致「Element is missing end tag」編譯錯誤。
- **檢查重點**：翻譯完成後務必檢查所有 TypeScript 型別定義、CLI 指令語法範例和技術文件中的角括號是否正確轉義。

## 翻譯風格
- 採繁體中文（台灣）慣用語，技術語氣、簡潔精確。
- 標點採中文全形，程式碼附近允許半形。
- 盡量避免過度直譯，優先說明清楚、讀起來自然。

## 作業流程建議
1. 在對應分支建立與檔名一致的翻譯提交（每 PR 可包含多個檔案但主題一致）。
2. 建立對應分支，並將當次「只處理一份」文件翻譯完畢後再進行下一份，以確保每次只專注於一份文件的完整翻譯。避免交錯、遺漏、未完成即切換下一份文件，提升翻譯品質與進度追蹤的準確性。
3. 先檢查 `ZHTW_DICT.md` 是否覆蓋到目標檔案的術語，缺漏則先補字典再翻譯。
4. 完成翻譯後自我檢查：
   - 專有名詞、API 名稱是否原文並以反引號標示？
   - 連結是否可用，錨點與自動產生的標題 ID 未被改動？
   - 例外訊息、命令輸出是否保留原文？
   - 術語譯名是否與 `ZHTW_DICT.md` 一致？
   - **角括號是否正確轉義以避免 VuePress 建置錯誤？**

## 檔案清單與追蹤
- 完整 `.md` 清單請見根目錄 `TRANSLATION_TODO.md`，請依核取框追蹤進度。
- 若新增、刪除 `.md` 檔，請同步更新 `TRANSLATION_TODO.md` 與本檔案必要說明。

### 重新產生翻譯清單
- 使用 Node 20+ 執行：`npm run gen-translation-todo`。
- 腳本位置：`scripts/generate-translation-todo.js`，會掃描整個倉庫並覆寫 `TRANSLATION_TODO.md`。
- 產出內容包含各分類（docs/cli/core/tools）與總檔數、時間戳記。

## 例外處理
- 某些章節為語言特定（Node.js/CLI/API）且含大量 API 表格，請優先翻譯說明段落，保留表格中 API 名稱與型別原文。
- 若遇到難以直譯之概念，建議保留英文原句於括號內，後接中文解釋。
- **VuePress 相容性**：若文件包含大量 TypeScript 型別或 CLI 語法範例，請特別注意角括號轉義，必要時可在程式碼區塊中保留原始語法。

## 建置驗證
- 翻譯完成後請執行 `npm run build` 或相關建置指令確保 VuePress 能正常編譯。
- 若出現「Element is missing end tag」錯誤，請檢查並修正未轉義的角括號。

感謝協作，讓 Gemini CLI 文件在台灣社群更易讀、更一致。